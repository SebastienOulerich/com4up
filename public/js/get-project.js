var app=new Vue({el:"#app",delimiters:["{","}"],data:{projets:[],select:"All",page:1,count:0,nbrPage:0,onLoad:!1},mounted(){this.getArticle(),this.getCount()},methods:{setSelect(a){this.page=1,this.select=a,this.getArticleSelection()},hover_select:function(a){return{Projet_hover_web:"web"==a,Projet_hover_audiovisuel:"audiovisuel"==a,Projet_hover_social:"social"==a,Projet_hover_materiel:"materiel"==a}},setPage(a){this.page!=a&&(this.page=a,"All"==this.select?this.getArticle():this.getArticleSelection())},setLoad(){this.onLoad=!(!1!=this.onLoad)},getArticle(){this.onLoad=!0,axios({method:"POST",url:"/get-projet",data:{page:this.page}}).then(a=>{var b=JSON.parse(a.data),c=this;this.projets=[],$.each(b,function(a,b){c.projets.push({id:b.id,slug:c.slugify(b.title),miniature:b.path,categorie:b.categorie})}),this.onLoad=!1})},slugify(a){const b=new RegExp("\xE0\xE1\xE4\xE2\xE3\xE5\u0103\xE6\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\u011B\u0117\xEB\xEA\u0119\u011F\u01F5\u1E27\xEC\xED\xEF\xEE\u012F\u0142\u1E3F\u01F9\u0144\u0148\xF1\xF2\xF3\xF6\xF4\u0153\xF8\u1E55\u0155\u0159\xDF\u015F\u015B\u0161\u0219\u0165\u021B\xF9\xFA\xFC\xFB\u01D8\u016F\u0171\u016B\u0173\u1E83\u1E8D\xFF\xFD\u017A\u017E\u017C\xB7/_,:;".split("").join("|"),"g");return a.toString().toLowerCase().replace(/\s+/g,"-").replace(b,a=>"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt("\xE0\xE1\xE4\xE2\xE3\xE5\u0103\xE6\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\u011B\u0117\xEB\xEA\u0119\u011F\u01F5\u1E27\xEC\xED\xEF\xEE\u012F\u0142\u1E3F\u01F9\u0144\u0148\xF1\xF2\xF3\xF6\xF4\u0153\xF8\u1E55\u0155\u0159\xDF\u015F\u015B\u0161\u0219\u0165\u021B\xF9\xFA\xFC\xFB\u01D8\u016F\u0171\u016B\u0173\u1E83\u1E8D\xFF\xFD\u017A\u017E\u017C\xB7/_,:;".indexOf(a))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},getArticleSelection(){axios({method:"POST",url:"/get-projet-selection",data:{selection:this.select,page:this.page}}).then(a=>{var b=JSON.parse(a.data),c=this;this.projets=[],$.each(b,function(a,b){c.projets.push({id:b.id,slug:b.slug,categorie:b.categorie,miniature:b.miniature.path})}),this.getCount()})},getCount(){axios({method:"POST",url:"/count-projet",data:{selection:this.select}}).then(a=>{var b=JSON.parse(a.data);this.count=b,this.nbrPage=Math.ceil(this.count/6)})}}});
